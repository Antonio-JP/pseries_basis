
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Different implementations of special sequences &#8212; Inverse Zeibelger Problem: Power Series basis for Sage 0.4.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/classic.css" />
    
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Implementing \(q\)-sequences into SageMath" href="qsequences.html" />
    <link rel="prev" title="Basic framework for Sequences" href="base.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="qsequences.html" title="Implementing \(q\)-sequences into SageMath"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="base.html" title="Basic framework for Sequences"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">pseries_basis</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../sequences.html" accesskey="U">Infinite Sequences Framework: working with sequences in SageMath</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Different implementations of special sequences</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-pseries_basis.sequences.element">
<span id="different-implementations-of-special-sequences"></span><h1>Different implementations of special sequences<a class="headerlink" href="#module-pseries_basis.sequences.element" title="Permalink to this headline">¶</a></h1>
<p>Module with the specific type of sequences that are used in the module <a class="reference internal" href="base.html#module-pseries_basis.sequences.base" title="pseries_basis.sequences.base"><code class="xref py py-mod docutils literal notranslate"><span class="pre">base</span></code></a>.</p>
<p>Since each of these are extension of the class <a class="reference internal" href="base.html#pseries_basis.sequences.base.Sequence" title="pseries_basis.sequences.base.Sequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code></a>, they all inherit
from this class and fills the requirements to work properly in the Sequences setting:</p>
<ul>
<li><p>Override the class method <code class="xref py py-func docutils literal notranslate"><span class="pre">register_class()</span></code> with the desired classes we want to be directly below.</p></li>
<li><p>Implement the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">_change_class()</span></code>: receives a class (given when registering the sequence class) and cast the current sequence to the new class.</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">_neg_()</span></code>: implement the negation of a sequence for a given class.</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">_final_add()</span></code>: implement the addition for two sequences of the same parent and class.</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">_final_sub()</span></code>: implement the difference for two sequences of the same parent and class.</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">_final_mul()</span></code>: implement the hadamard product for two sequences of the same parent and class.</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">_final_div()</span></code>: implement the hadamard division for two sequences of the same parent and class.</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">_final_mod()</span></code>: implement the hadamard module for two sequences of the same parent and class.</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">_final_floordiv()</span></code>: implement the hadamard floor division for two sequences of the same parent and class.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Consider updating the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">_element()</span></code> to adjust how the sequence is computed.</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">_shift()</span></code> to adjust the output of the shifted sequence.</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">_subsequence()</span></code> to adjust the output of the subsequence.</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">_slicing()</span></code> to adjust the output of the sliced sequence.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="pseries_basis.sequences.element.ExpressionSequence">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pseries_basis.sequences.element.</span></span><span class="sig-name descname"><span class="pre">ExpressionSequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">universe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meanings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_extend_by_zero</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pseries_basis.sequences.element.ExpressionSequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="base.html#pseries_basis.sequences.base.Sequence" title="pseries_basis.sequences.base.Sequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">pseries_basis.sequences.base.Sequence</span></code></a></p>
<p>Class for sequences defined by a SageMath expression.</p>
<p>These sequences are the easiest sequences after the callable sequences (defined in <a class="reference internal" href="base.html#pseries_basis.sequences.base.Sequence" title="pseries_basis.sequences.base.Sequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">base.Sequence</span></code></a>). In 
this case, the sequence is defined using a SageMath expression (see <code class="xref py py-class docutils literal notranslate"><span class="pre">Expression</span></code>)
where the variables indicate the dimension of the sequence.</p>
<p>Expression sequences are particularly interesting because the generic expression is always available (it is defined through
such expression), which allows to perform different operations in a straightforward manner.</p>
<p>This class includes the method <a class="reference internal" href="#pseries_basis.sequences.element.ExpressionSequence.variables" title="pseries_basis.sequences.element.ExpressionSequence.variables"><code class="xref py py-func docutils literal notranslate"><span class="pre">variables()</span></code></a> that defines the symbolic elements that are the actual variables of the 
expression. This is used as default values for the names when using the method <a class="reference internal" href="#pseries_basis.sequences.element.ExpressionSequence.generic" title="pseries_basis.sequences.element.ExpressionSequence.generic"><code class="xref py py-func docutils literal notranslate"><span class="pre">generic()</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sage</span><span class="p">:</span> <span class="kn">from</span> <span class="nn">pseries_basis.sequences</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">poly</span> <span class="o">=</span> <span class="n">ExpressionSequence</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">variables</span><span class="o">=</span><span class="p">(</span><span class="n">x</span><span class="p">,),</span> <span class="n">universe</span><span class="o">=</span><span class="n">ZZ</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">poly</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">17</span><span class="p">]</span>
</pre></div>
</div>
<p>On top of this class we find the callable sequences. When we operate with these, we lose the information of the expression 
and, maybe, the generic expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>sage: poly + Fibonacci(1,1)
Sequence over [Integer Ring]: (2, 3, 7,...)
sage: (poly + Fibonacci(1,1)).__class__
&lt;class &#39;pseries_basis.sequences.base.Sequence&#39;&gt;
sage: (poly + Fibonacci(1,1)).generic(&quot;x&quot;)
Traceback (most recent call last):
...
ValueError: Impossible to compute generic expression for a sequence.
sage: poly * Factorial
Sequence over [Integer Ring]: (1, 2, 10,...)
sage: (poly * Factorial).__class__
&lt;class &#39;pseries_basis.sequences.base.Sequence&#39;&gt;
sage: (poly * Factorial).generic(&quot;x&quot;)
(x^2 + 1)*factorial(x)
</pre></div>
</div>
<p>Conversely, on the bottom of this class we always find the class <code class="xref py py-class docutils literal notranslate"><span class="pre">ConstantSequence</span></code> which will always convert into 
an ExpressionSequence with the same variables:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>sage: n = var(&#39;n&#39;)
sage: Seq = ExpressionSequence(sin(pi*n/8), [n], QQbar)
sage: CS = ConstantSequence(1/sqrt(2), QQbar, 1)
sage: Seq * CS
Sequence over [Algebraic Field]: (0, 0.2705980500730985?, 0.500000000000000?,...)
sage: Seq - QQbar(sqrt(2))
Sequence over [Algebraic Field]: (-1.414213562373095?, -1.031530130008006?, -0.7071067811865475?,...)
sage: Seq * QQbar(sqrt(2))
Sequence over [Algebraic Field]: (0, 0.5411961001461970?, 1.000000000000000?,...)
sage: (Seq + Factorial)/QQbar(sqrt(2)) - 1
Sequence over [Algebraic Field]: (-0.2928932188134525?, -0.02229516874035399?, 0.9142135623730951?,...)
sage: ((Seq + Factorial)/QQbar(sqrt(2)) - 1).generic()
0.7071067811865475?*factorial(n) + 0.7071067811865475?*sin(1/8*pi*n) - 1
sage: Sin2 = ExpressionSequence(sin(x)**2, [x], SR); Cos2 = ExpressionSequence(cos(x)**2, [x], SR)
sage: Sin2 + Cos2 == 1
True
</pre></div>
</div>
<p>Additionally with the usual restrictions for computing with sequences, <a class="reference internal" href="#pseries_basis.sequences.element.ExpressionSequence" title="pseries_basis.sequences.element.ExpressionSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExpressionSequence</span></code></a> has an extra restriction
to compute with these sequences. Namely, we require that the variables that define the sequence must coincide in name and 
order. Otherwise, an usual coercion error is raised:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sage</span><span class="p">:</span> <span class="n">ExpX</span> <span class="o">=</span> <span class="n">ExpressionSequence</span><span class="p">(</span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">n</span><span class="p">),</span> <span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="n">SR</span><span class="p">);</span> <span class="n">ExpX</span>
<span class="n">Sequence</span> <span class="n">over</span> <span class="p">[</span><span class="n">Symbolic</span> <span class="n">Ring</span><span class="p">]:</span> <span class="p">(</span><span class="n">e</span><span class="o">^</span><span class="n">x</span><span class="p">,</span> <span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">),</span><span class="o">...</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">ExpN</span> <span class="o">=</span> <span class="n">ExpressionSequence</span><span class="p">(</span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">n</span><span class="p">),</span> <span class="p">[</span><span class="n">x</span><span class="p">],</span> <span class="n">SR</span><span class="p">);</span> <span class="n">ExpN</span>
<span class="n">Sequence</span> <span class="n">over</span> <span class="p">[</span><span class="n">Symbolic</span> <span class="n">Ring</span><span class="p">]:</span> <span class="p">(</span><span class="n">e</span><span class="o">^</span><span class="n">n</span><span class="p">,</span> <span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">2</span><span class="p">),</span><span class="o">...</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">ExpX</span> <span class="o">+</span> <span class="n">ExpN</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="o">...</span>
<span class="ne">TypeError</span><span class="p">:</span> <span class="n">unsupported</span> <span class="n">operand</span> <span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="o">+</span><span class="p">:</span> <span class="s1">&#39;ExpressionSequence&#39;</span> <span class="ow">and</span> <span class="s1">&#39;ExpressionSequence&#39;</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">ExpYX</span><span class="o">=</span> <span class="n">ExpressionSequence</span><span class="p">(</span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">+</span><span class="n">n</span><span class="p">),</span> <span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="n">SR</span><span class="p">);</span> <span class="n">ExpYX</span>
<span class="n">Sequence</span> <span class="n">over</span> <span class="p">[</span><span class="n">Symbolic</span> <span class="n">Ring</span><span class="p">]:</span> <span class="p">(</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">),</span> <span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">2</span><span class="p">),</span><span class="o">...</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">ExpYX</span> <span class="o">/</span> <span class="n">ExpX</span>
<span class="n">Sequence</span> <span class="n">over</span> <span class="p">[</span><span class="n">Symbolic</span> <span class="n">Ring</span><span class="p">]:</span> <span class="p">(</span><span class="n">e</span><span class="o">^</span><span class="n">y</span><span class="p">,</span> <span class="n">e</span><span class="o">^</span><span class="n">y</span><span class="p">,</span> <span class="n">e</span><span class="o">^</span><span class="n">y</span><span class="p">,</span><span class="o">...</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">ExpYX</span> <span class="o">/</span> <span class="n">ExpX</span> <span class="o">==</span> <span class="n">e</span><span class="o">^</span><span class="n">y</span>
<span class="kc">True</span>
</pre></div>
</div>
<p>We can also compute any other operation over sequences as defined in <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sage</span><span class="p">:</span> <span class="n">Exp</span> <span class="o">=</span> <span class="n">ExpressionSequence</span><span class="p">(</span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">),</span> <span class="n">universe</span><span class="o">=</span><span class="n">SR</span><span class="p">);</span> <span class="n">Exp</span>
<span class="n">Sequence</span> <span class="k">with</span> <span class="mi">2</span> <span class="n">variables</span> <span class="n">over</span> <span class="p">[</span><span class="n">Symbolic</span> <span class="n">Ring</span><span class="p">]</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">Exp</span><span class="o">.</span><span class="n">generic</span><span class="p">()</span>
<span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">Exp</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">generic</span><span class="p">()</span>
<span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">Exp</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">generic</span><span class="p">()</span>
<span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span> <span class="o">-</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">Exp</span><span class="o">.</span><span class="n">subsequence</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="n">Factorial</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">ExpressionSequence</span><span class="p">(</span><span class="n">y</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="n">y</span><span class="p">],</span> <span class="n">universe</span><span class="o">=</span><span class="n">ZZ</span><span class="p">)))</span><span class="o">.</span><span class="n">generic</span><span class="p">()</span>
<span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">factorial</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">Exp</span><span class="o">.</span><span class="n">slicing</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">generic</span><span class="p">()</span>
<span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pseries_basis.sequences.element.ExpressionSequence.args_to_self">
<span class="sig-name descname"><span class="pre">args_to_self</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pseries_basis.sequences.element.ExpressionSequence.args_to_self" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pseries_basis.sequences.element.ExpressionSequence.as_polynomial">
<span class="sig-name descname"><span class="pre">as_polynomial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pseries_basis.sequences.element.ExpressionSequence.as_polynomial" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pseries_basis.sequences.element.ExpressionSequence.as_rational">
<span class="sig-name descname"><span class="pre">as_rational</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pseries_basis.sequences.element.ExpressionSequence.as_rational" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pseries_basis.sequences.element.ExpressionSequence.extra_info">
<span class="sig-name descname"><span class="pre">extra_info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pseries_basis.sequences.element.ExpressionSequence.extra_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pseries_basis.sequences.element.ExpressionSequence.generic">
<span class="sig-name descname"><span class="pre">generic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pseries_basis.sequences.element.ExpressionSequence.generic" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pseries_basis.sequences.element.ExpressionSequence.is_polynomial">
<span class="sig-name descname"><span class="pre">is_polynomial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pseries_basis.sequences.element.ExpressionSequence.is_polynomial" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pseries_basis.sequences.element.ExpressionSequence.is_rational">
<span class="sig-name descname"><span class="pre">is_rational</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pseries_basis.sequences.element.ExpressionSequence.is_rational" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pseries_basis.sequences.element.ExpressionSequence.meanings">
<span class="sig-name descname"><span class="pre">meanings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pseries_basis.sequences.element.ExpressionSequence.meanings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pseries_basis.sequences.element.ExpressionSequence.register_class">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">register_class</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pseries_basis.sequences.element.ExpressionSequence.register_class" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pseries_basis.sequences.element.ExpressionSequence.variables">
<span class="sig-name descname"><span class="pre">variables</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pseries_basis.sequences.element.ExpressionSequence.variables" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pseries_basis.sequences.element.RationalSequence">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pseries_basis.sequences.element.</span></span><span class="sig-name descname"><span class="pre">RationalSequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rational</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">universe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meanings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_extend_by_zero</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pseries_basis.sequences.element.RationalSequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pseries_basis.sequences.element.ExpressionSequence" title="pseries_basis.sequences.element.ExpressionSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">pseries_basis.sequences.element.ExpressionSequence</span></code></a></p>
<p>Class for sequences defined by a Rational function.</p>
<p>These sequences are defined using a rational function that, when it is evaluated, we obtain the corresponding element 
in the sequence. If the sequence contains several variables, then higher dimensional sequences can be generated.
We also allow to only specify some of the variables to left other variables as parameters.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rational</span></code>: rational expression defining the sequence. It must be either in a polynomial ring or a fraction
field of a polynomial ring. The base field is not important for defining the sequence.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">variables</span></code> (optional): a list/tuple of variables in the parent of <code class="docutils literal notranslate"><span class="pre">rational</span></code> that specifies the variables
that are considered indices of the sequence. If <code class="docutils literal notranslate"><span class="pre">None</span></code> is given, all variables in the parent are considered.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">universe</span></code> (optional): the parent structure that contains the elements of the sequence. By default, the universe 
is not necessary and it is set to the remaining parent structure from the parent of <code class="docutils literal notranslate"><span class="pre">rational</span></code> after removing
the variables in <code class="docutils literal notranslate"><span class="pre">variables</span></code>. If given, it may raise errors when evaluating the sequence.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sage</span><span class="p">:</span> <span class="kn">from</span> <span class="nn">pseries_basis.sequences</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">P</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">poly</span> <span class="o">=</span> <span class="n">RationalSequence</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="p">]);</span> <span class="n">poly</span>
<span class="n">Sequence</span> <span class="n">over</span> <span class="p">[</span><span class="n">Fraction</span> <span class="n">Field</span> <span class="n">of</span> <span class="n">Univariate</span> <span class="n">Polynomial</span> <span class="n">Ring</span> <span class="ow">in</span> <span class="n">y</span> <span class="n">over</span> <span class="n">Rational</span> <span class="n">Field</span><span class="p">]:</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="n">y</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="mi">2</span><span class="p">),</span><span class="o">...</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">poly</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
<span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="n">y</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="n">y</span> <span class="o">-</span> <span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="n">y</span> <span class="o">-</span> <span class="mi">4</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="mi">4</span><span class="p">)]</span>
</pre></div>
</div>
<p>If we do not provide the list of variables, then we considered all variables as variables of the sequence:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sage</span><span class="p">:</span> <span class="n">poly2</span> <span class="o">=</span> <span class="n">RationalSequence</span><span class="p">(</span><span class="n">P</span><span class="p">);</span> <span class="n">poly2</span>
<span class="n">Sequence</span> <span class="k">with</span> <span class="mi">2</span> <span class="n">variables</span> <span class="n">over</span> <span class="p">[</span><span class="n">Rational</span> <span class="n">Field</span><span class="p">]</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">poly2</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span> <span class="c1"># (10+5)/(10-5)</span>
<span class="mi">3</span>
</pre></div>
</div>
<p>On top of this class we find the Expression sequences. When we operate with these, we lose the information of the rational expression 
and fall into the symbolic ring:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TODO</span><span class="p">:</span> <span class="n">add</span> <span class="n">examples</span> <span class="k">with</span> <span class="n">Expression</span> <span class="n">sequences</span>
</pre></div>
</div>
<p>Conversely, on the bottom of this class we always find the class <code class="xref py py-class docutils literal notranslate"><span class="pre">ConstantSequence</span></code> which will always convert into 
an ExpressionSequence with the same variables:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TODO</span><span class="p">:</span> <span class="n">add</span> <span class="n">examples</span> <span class="k">with</span> <span class="n">constant</span> <span class="n">sequences</span><span class="o">.</span>
</pre></div>
</div>
<p>Additionally with the usual restrictions for computing with sequences, <a class="reference internal" href="#pseries_basis.sequences.element.RationalSequence" title="pseries_basis.sequences.element.RationalSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">RationalSequence</span></code></a> has an extra restriction
to compute with these sequences. Namely, we require that the polynomial rings used to define the sequence are compatible
for operations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TODO</span><span class="p">:</span> <span class="n">add</span> <span class="n">examples</span> <span class="k">with</span> <span class="n">arithmetics</span> <span class="n">on</span> <span class="n">RationalSequence</span><span class="o">.</span> <span class="n">Show</span> <span class="n">error</span> <span class="n">when</span> <span class="n">variables</span> <span class="n">do</span> <span class="ow">not</span> <span class="n">match</span><span class="o">.</span>
</pre></div>
</div>
<p>We can also compute any other operation over sequences as defined in <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>TODO: add examples using :func:`~.base.Sequence.subsequence`, :func:`~.base.Sequence.slicing`, :func:`~.base.Sequence.shift`
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pseries_basis.sequences.element.RationalSequence.as_polynomial">
<span class="sig-name descname"><span class="pre">as_polynomial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pseries_basis.sequences.element.RationalSequence.as_polynomial" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pseries_basis.sequences.element.RationalSequence.as_rational">
<span class="sig-name descname"><span class="pre">as_rational</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pseries_basis.sequences.element.RationalSequence.as_rational" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pseries_basis.sequences.element.RationalSequence.extra_info">
<span class="sig-name descname"><span class="pre">extra_info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pseries_basis.sequences.element.RationalSequence.extra_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pseries_basis.sequences.element.RationalSequence.is_polynomial">
<span class="sig-name descname"><span class="pre">is_polynomial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pseries_basis.sequences.element.RationalSequence.is_polynomial" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pseries_basis.sequences.element.RationalSequence.is_rational">
<span class="sig-name descname"><span class="pre">is_rational</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pseries_basis.sequences.element.RationalSequence.is_rational" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pseries_basis.sequences.element.RationalSequence.register_class">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">register_class</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pseries_basis.sequences.element.RationalSequence.register_class" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="base.html"
                          title="previous chapter">Basic framework for Sequences</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="qsequences.html"
                          title="next chapter">Implementing <span class="math notranslate nohighlight">\(q\)</span>-sequences into SageMath</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/pseries_basis/sequences/element.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="qsequences.html" title="Implementing \(q\)-sequences into SageMath"
             >next</a> |</li>
        <li class="right" >
          <a href="base.html" title="Basic framework for Sequences"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">pseries_basis</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../sequences.html" >Infinite Sequences Framework: working with sequences in SageMath</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Different implementations of special sequences</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
  </body>
</html>